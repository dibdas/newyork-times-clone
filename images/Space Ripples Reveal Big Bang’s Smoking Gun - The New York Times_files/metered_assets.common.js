(window.webpackJsonpMarketing=window.webpackJsonpMarketing||[]).push([[0],[function(t,e,n){var r,i;r=[n(3),n(33)],void 0===(i=function(t,e){var n={};return{get:function(r){return r=r||"global",n.hasOwnProperty(r)||(n[r]=e(r,t)),n[r]}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2),n(7),n(17),n(0),n(36),n(8),n(6),n(41),n(14)],void 0===(i=function(t,e,n,r,i,o,s,a,u){"use strict";var c=n.extend({componentMap:null,componentViewMap:null,initialize:function(n,l){if(l&&"string"==typeof l){if(!document.querySelector(l))return void 0===this.retries&&(this.retries=100),void(this.retries>0?(this.retries--,setTimeout(this.initialize.bind(this,n,l),50)):r.get("Area Base View").info("Element "+l+" unavailable after 5 seconds. Impossible to initialize areaBaseView."));this.setElement(l)}this.targetingInfo=o.get(l),this.serverSideData=s.get(l),this.logger=r.get("Area Base View"),this.logger.info("AreaBaseView"),c.__super__.initialize.apply(this,arguments),this.componentViewMap=n||{},this.componentMap={},this.eventAggregator=t.extend({},e.Events),this.config=this._getConfig(),this.activateComponents();var h,f="abraExpose";(h=u.get()).featureEnabled(h.getFeature(f))&&a.get().initialize(),i.getData(this.handleGtmDataReady.bind(this))},_getConfig:function(){var e,n={},r=this.el.dataset,i=this;return t.forEach(r,(function(t,r){-1!==r.indexOf("config")&&(e=i._lowercaseFirstLetter(r.split("config")[1]),n[e]=i.stringToBoolean(t))})),n},stringToBoolean:function(t){return"true"===t||"false"!==t&&t},_lowercaseFirstLetter:function(t){return t[0].toLowerCase()+t.slice(1)},getEventAggregator:function(){return this.eventAggregator},getComponentMap:function(){return this.componentMap},activateComponents:function(){var e=this,n=t.get("[data-config-component-id]",e.el,"all");t.forEach(n,(function(t){var n=t.dataset.configComponentId;if(n&&"function"==typeof e.componentViewMap[n])try{var r=new e.componentViewMap[n]({el:t,eventAggregator:e.eventAggregator,pageConfig:e.config});e.componentMap[n]=e.componentMap[n]||[],e.componentMap[n].push(r)}catch(t){this.logger.error(n+" was not initialized!",t)}})),this.logger.debug(e.componentMap)},handleGtmDataReady:function(){var t=window.dataLayer||[],e=i.toJSON();t.push(e)}});return c}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){function t(t,e){return!!e&&(e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))}function e(e,n){n&&(n.classList?n.classList.add(e):t(n,e)||(n.className+=" "+e))}function n(t,e){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),""))}function r(t,e){return null===t.parentNode||!e||e(t.parentNode)?t.parentNode:r(t.parentNode,e)}function i(t){return function(t){var e=window.getComputedStyle(t);return Math.max(parseInt(e.getPropertyValue("height"),10),t.scrollHeight,t.offsetHeight,t.clientHeight)}(t)+function(t){var e=window.getComputedStyle(t);return["margin-top","margin-bottom","border-top-width","border-bottom-width"].map((function(t){return parseInt(e.getPropertyValue(t),10)})).reduce((function(t,e){return t+e}))}(t)}function o(t,e,n){if(t&&"function"==typeof e){n=n||window;var r=s(t),i=0;i=t.hasOwnProperty("length")?t.length:r.length;for(var o=0;o<i;o++)e.call(n,t[r[o]],r[o],this)}}function s(t){return"object"==typeof t?Object.keys(t):t.keys}return{get:function(t,e,n){var r=document,i="querySelector";return!0!==n&&"all"!==n||(i="querySelectorAll"),e&&(r=e),r[i](t)},find:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},forEach:o,hasClass:t,addClass:e,removeClass:n,toggleClass:function(r,i){t(r,i)?n(r,i):e(r,i)},getParent:r,getHeight:i,getContentHeight:function(t){var e=t.children,n=0;return o(e,(function(t){"BR"!==t.tagName&&(n+=i(t))})),n},triggerEvent:function(t,e){if(e){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),e.dispatchEvent(n)}},css:function(t,e){return"object"==typeof t?function(t,e){if(e)for(var n in t)e.style[n]=t[n]}(t,e):function(t,e){if(e)return(window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)[t];return!1}(t,e)},index:function(t){var e=r(t);return Array.prototype.slice.call(e.children).indexOf(t)},sortBy:function(t){return function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}},extend:function t(e){if("object"!=typeof e)throw e+" is not an object";return o(Array.prototype.slice.call(arguments,1),(function(n){if(n)for(var r in n)"object"==typeof n[r]&&e[r]?t.call(e,e[r],n[r]):e[r]=n[r]})),e},arrayToObject:function(t,e){var n={},r=0;r=t.hasOwnProperty("length")?t.length:s(t).length;for(var i=0;i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;r=[n(7),n(16)],void 0===(i=function(t,e){return e.extend({},t.Events)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},setCookie:function(t,e,n,r,i,o){var s;return n&&(n<1e3?(s=new Date).setTime(s.getTime()+24*n*60*60*1e3):(s=new Date).setTime(s.getTime()+n)),document.cookie=t+"="+encodeURIComponent(e)+(r?";path="+r:";path=/")+(n?";expires="+s.toUTCString():"")+(i?";domain="+i:";domain=.nytimes.com")+(o?";secure":"")},deleteCookie:function(t,e,n,r){document.cookie=t+"=xxx"+(e?";path="+e:";path=/")+(n?";domain="+n:";domain=.nytimes.com")+(r?";secure":"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return{SILENT:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,NOTIFY:5}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(29),n(8)],void 0===(i=function(t,e){var n;return{get:function(r){return void 0===n&&(n=t(e,r)),n}}}.apply(e,r))||(t.exports=i)},function(t,e,n){(function(t){!function(r){var i,o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,s=n(16);try{i=n(!function(){var t=new Error("Cannot find module 'jquery'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){}r(o,e,s,i)}((function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,r){n.each(e,(function(e,i){n[i]&&(t.prototype[i]=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],a(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],a(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}}(e,i,r))}))},a=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,h=function(t,e,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)e=h(t,e,s[a],r[s[a]],o)}else if(r&&l.test(r))for(s=r.split(l);a<s.length;a++)e=t(e,s[a],i,o);else e=t(e,r,i,o);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){(t._events=h(d,t._events||{},e,n,{context:r,ctx:t,listening:i}),i)&&((t._listeners||(t._listeners={}))[i.id]=i);return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[i];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[i]={obj:t,objId:i,id:a,listeningTo:o,count:0}}return f(t,e,r,this,s),this};var d=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=h(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(e,r,this)}return this};var p=function(t,e,r,i){if(t){var o,s=0,a=i.context,u=i.listeners;if(e||r||a){for(var c=e?[e]:n.keys(t);s<c.length;s++){var l=t[e=c[s]];if(!l)break;for(var h=[],f=0;f<l.length;f++){var d=l[f];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?h.push(d):(o=d.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}h.length?t[e]=h:delete t[e]}return t}for(var p=n.keys(u);s<p.length;s++)delete u[(o=u[p[s]]).id],delete o.listeningTo[o.objId]}};c.once=function(t,e,r){var i=h(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=h(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return h(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[e].concat(r))}return t},m=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(c[f],e)||a.push(f),n.isEqual(h[f],e)?delete l[f]:l[f]=e,o?delete c[f]:c[f]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],r)}if(u)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},D(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,u=this.attributes;r.success=function(t){s.attributes=u;var e=r.parse?s.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!s.set(e,r))return!1;a&&a.call(r.context,s,t,r),s.trigger("sync",s,t,r)},D(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(D(this,t),s=this.sync("delete",this,t)),i||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});s(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,_))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],u=[],c=[],l=[],h={},f=e.add,d=e.merge,p=e.remove,g=!1,v=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(d&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),v&&!g&&(g=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e))&&(u.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o))}if(p){for(s=0;s<this.length;s++)h[(o=this.models[s]).cid]||l.push(o);l.length&&this._removeModels(l,e)}var _=!1,E=!v&&f&&p;if(a.length&&E?(_=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):u.length&&(v&&(g=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<u.length;s++)null!=i&&(e.index=i+s),(o=u[s]).trigger("add",o,this,e);(g||_)&&this.trigger("sort",this,e),(u.length||l.length||c.length)&&(e.changes={added:u,removed:l,merged:c},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},D(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(S);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=L[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||P()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var c=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,A=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var s=o._extractParameters(t,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(C,"\\$&").replace(k,"(?:$1)?").replace(T,(function(t,e){return e?t:"([^/?]+)"})).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var N=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,M=/#.*$/;N.started=!1,n.extend(N.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!N.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(M,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new N;y.extend=b.extend=I.extend=E.extend=N.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var P=function(){throw new Error('A "url" property or function must be specified')},D=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}))}).call(this,n(15))},function(t,e,n){var r,i;r=[n(30)],void 0===(i=function(t){var e;return{get:function(n){return void 0===e&&(e=t(n)),e}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";var t={};
/**
     * parseUri 1.2.2
     * @author Steven Levithan <stevenlevithan.com>
     * @license MIT License
     * @see http://blog.stevenlevithan.com/archives/parseuri
     **/
return t.parseUri=function(e){for(var n=t.parseUri.options,r=n.parser[n.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i},t.parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.getLocation=function(){return window.location},t.getLocationHref=function(){return this.getLocation().href},t.getHostName=function(){return this.getLocation().hostname},t.getPath=function(){return this.parseUri(this.getLocationHref()).path},t.getQuery=function(){return this.parseUri(this.getLocationHref()).queryKey||{}},t.getQueryString=function(){return this.parseUri(this.getLocationHref()).query},t.getCampaignId=function(){var t=this.getQuery();return t.campaignId||t.CMP||""},t.setNYTDomain=function(){document.domain="nytimes.com"},t}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(2),n(9),n(0)],void 0===(i=function(t,e,n){"use strict";var r=function(){this.logger={}};return r.prototype={initialize:function(){this.logger=n.get("ET Interaction"),this.trackDockCard()},sendEvent:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(t),this.logger.debug&&this.logger.debug("Event sent: "+JSON.stringify(t))},setDetailsClickListener:function(e,n){if(n){var r=this;n.addEventListener("click",(function(n){var i,o=n.target.innerText,s=t.getParent(n.target,(function(e){return t.hasClass("productGBBHD__features__button",e)||t.hasClass("productGBBDigi__features__button",e)}));i=o&&"see details"===o.toLowerCase()||-1===s.className.indexOf("expanded")?{name:"viewDetails",label:"See details",url:""}:{name:"viewDetails",label:"Hide details",url:""},r.sendEvent({event:"moduleInteraction",eventData:{pagetype:"landingPage",type:"click",trigger:"module"},module:{name:"bundleDetails",version:e,region:"bundle",element:i}})}))}},trackDockCard:function(){var t=document.querySelector(".dockCard__content"),n=this,r=document.querySelector(".dockCard__button"),i=e.getQuery();t?r.addEventListener("click",(function(){n.sendEvent({event:"moduleInteraction",eventData:{pagetype:"article",type:"click",trigger:"module"},module:{name:"dock",context:"expanded",label:i.optlyCampaignName?i.optlyCampaignName:"",region:i.meterCount?i.meterCount:"",element:{name:"goto-subscribe",label:r.innerText,url:t.href}}})})):this.logger.debug("could not find the container for dockCard")}},new r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(19),n(46),n(9)],void 0===(i=function(t,e,n,r){"use strict";var i=t.get("Creative Override");i.debug("dependencies loaded");var o=n.getInstance();try{var s=e.extend({initialize:function(){try{var t=r.getQuery();if(t.hasOwnProperty("wcm_override_disable")&&!0===Boolean(t.wcm_override_disable))return void i.warn("Creative override disabled. Not evaluating code.");var e=this.el.querySelector("[data-creative-override-assets]"),n={};try{n=window.JSON.parse(e.innerHTML)}catch(t){i.warn("Unable to parse out JSON assets. Continuing.")}var s="[data-creative-override-js]",a=this.el.querySelector(s);if(a.length<1)return void i.error('Unable to find raw JS element using selector "'+s+'". Cannot parse.');o.executeJSString(a.innerHTML,[n]),i.debug("component initialized")}catch(t){i.error("component not initialized",t)}}});i.debug("component loaded")}catch(t){i.error("component not loaded",t)}return s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){var t=function(t){this._eventAggregator=t};return t.prototype.registerListener=function(t){this._eventAggregator.on("log",t)},t}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(5)],void 0===(i=function(t){function e(e){var n=Object.keys(t);for(var r in n){var i=n[r];if(n.hasOwnProperty(r)&&e===t[i])return i}return null}return{formatLogArguments:function(n){var r=n.level,i=e(r),o=n.arguments.slice(0),s=function(e){switch(e){case t.ERROR:case t.WARN:return null;case t.INFO:return"#008000";case t.DEBUG:return"#FFA500";case t.NOTIFY:return"#AAAAAA";default:return null}}(r),a=null!==s;return a&&o.unshift("color: "+s),o.unshift((a?"%c":"")+i+" ["+n.name+"]"),o},lowerCaseLevelName:function(t){var n=e(t);return null===n?null:n.toLowerCase()},getLevelName:e}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(45),n(6)],void 0===(i=function(t,e){var n;return{get:function(){return n||(n=t(e)),n}}}.apply(e,r))||(t.exports=i)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=i._,s=Array.prototype,a=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,l=s.slice,h=a.toString,f=a.hasOwnProperty,d=Array.isArray,p=Object.keys,g=Object.create,v=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};e.nodeType?i._=m:(!n.nodeType&&n.exports&&(e=n.exports=m),e._=m),m.VERSION="1.9.1";var y,b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return m.iteratee!==y?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?b(t,e,n):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=y=function(t,e){return w(t,e,1/0)};var _=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},x=function(t){if(!m.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},S=function(t,e){return null!=t&&f.call(t,e)},O=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},L=Math.pow(2,53)-1,I=E("length"),k=function(t){var e=I(t);return"number"==typeof e&&0<=e&&e<=L};m.each=m.forEach=function(t,e,n){var r,i;if(e=b(e,n),k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){e=w(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o};var T=function(t){return function(e,n,r,i){var o=3<=arguments.length;return function(e,n,r,i){var o=!k(e)&&m.keys(e),s=(o||e).length,a=0<t?0:s-1;for(i||(r=e[o?o[a]:a],a+=t);0<=a&&a<s;a+=t){var u=o?o[a]:a;r=n(r,e[u],u,e)}return r}(e,b(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=T(1),m.reduceRight=m.foldr=T(-1),m.find=m.detect=function(t,e,n){var r=(k(t)?m.findIndex:m.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},m.filter=m.select=function(t,e,n){var r=[];return e=w(e,n),m.each(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r},m.reject=function(t,e,n){return m.filter(t,m.negate(w(e)),n)},m.every=m.all=function(t,e,n){e=w(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},m.some=m.any=function(t,e,n){e=w(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,r){return k(t)||(t=m.values(t)),("number"!=typeof n||r)&&(n=0),0<=m.indexOf(t,e,n)},m.invoke=_((function(t,e,n){var r,i;return m.isFunction(e)?i=e:m.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),m.map(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=O(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=k(t)?t:m.values(t)).length;a<u;a++)null!=(r=t[a])&&o<r&&(o=r);else e=w(e,n),m.each(t,(function(t,n,r){i=e(t,n,r),(s<i||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o},m.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=k(t)?t:m.values(t)).length;a<u;a++)null!=(r=t[a])&&r<o&&(o=r);else e=w(e,n),m.each(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,n){if(null==e||n)return k(t)||(t=m.values(t)),t[m.random(t.length-1)];var r=k(t)?m.clone(t):m.values(t),i=I(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=m.random(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,e)},m.sortBy=function(t,e,n){var r=0;return e=w(e,n),m.pluck(m.map(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")};var A=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=w(r,i),m.each(n,(function(e,i){var s=r(e,i,n);t(o,e,s)})),o}};m.groupBy=A((function(t,e,n){S(t,n)?t[n].push(e):t[n]=[e]})),m.indexBy=A((function(t,e,n){t[n]=e})),m.countBy=A((function(t,e,n){S(t,n)?t[n]++:t[n]=1}));var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?l.call(t):m.isString(t)?t.match(C):k(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:k(t)?t.length:m.keys(t).length},m.partition=A((function(t,e,n){t[n?0:1].push(e)}),!0),m.first=m.head=m.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var N=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,s=I(t);o<s;o++){var a=t[o];if(k(a)&&(m.isArray(a)||m.isArguments(a)))if(e)for(var u=0,c=a.length;u<c;)r[i++]=a[u++];else N(a,e,n,r),i=r.length;else n||(r[i++]=a)}return r};m.flatten=function(t,e){return N(t,e,!1)},m.without=_((function(t,e){return m.difference(t,e)})),m.uniq=m.unique=function(t,e,n,r){m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],s=0,a=I(t);s<a;s++){var u=t[s],c=n?n(u,s,t):u;e&&!n?(s&&o===c||i.push(u),o=c):n?m.contains(o,c)||(o.push(c),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=_((function(t){return m.uniq(N(t,!0,!0))})),m.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=I(t);r<i;r++){var o=t[r];if(!m.contains(e,o)){var s;for(s=1;s<n&&m.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},m.difference=_((function(t,e){return e=N(e,!0,!0),m.filter(t,(function(t){return!m.contains(e,t)}))})),m.unzip=function(t){for(var e=t&&m.max(t,I).length||0,n=Array(e),r=0;r<e;r++)n[r]=m.pluck(t,r);return n},m.zip=_(m.unzip),m.object=function(t,e){for(var n={},r=0,i=I(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var j=function(t){return function(e,n,r){n=w(n,r);for(var i=I(e),o=0<t?0:i-1;0<=o&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};m.findIndex=j(1),m.findLastIndex=j(-1),m.sortedIndex=function(t,e,n,r){for(var i=(n=w(n,r,1))(e),o=0,s=I(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o};var R=function(t,e,n){return function(r,i,o){var s=0,a=I(r);if("number"==typeof o)0<t?s=0<=o?o:Math.max(o+a,s):a=0<=o?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return 0<=(o=e(l.call(r,s,a),m.isNaN))?o+s:-1;for(o=0<t?s:a-1;0<=o&&o<a;o+=t)if(r[o]===i)return o;return-1}};m.indexOf=R(1,m.findIndex,m.sortedIndex),m.lastIndexOf=R(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},m.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(l.call(t,r,r+=e));return n};var M=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=x(t.prototype),s=t.apply(o,i);return m.isObject(s)?s:o};m.bind=_((function(t,e,n){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var r=_((function(i){return M(t,r,e,this,n.concat(i))}));return r})),m.partial=_((function(t,e){var n=m.partial.placeholder,r=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return M(t,r,this,this,s)};return r})),(m.partial.placeholder=m).bindAll=_((function(t,e){var n=(e=N(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=m.bind(t[r],t)}})),m.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return S(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=_((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:m.now(),r=null,s=t.apply(i,o),r||(i=o=null)},c=function(){var c=m.now();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,o=arguments,l<=0||e<l?(r&&(clearTimeout(r),r=null),a=c,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c},m.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},s=_((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,e),a&&(i=t.apply(this,s))}else r=m.delay(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2),m.restArguments=_;var P=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var n=D.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||a,o="constructor";for(S(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=D[n])in t&&t[o]!==i[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)S(t,n)&&e.push(n);return P&&F(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return P&&F(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=w(e,n);for(var r=m.keys(t),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=e(t[a],a,t)}return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()};var q=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}};m.extend=q(m.allKeys),m.extendOwn=m.assign=q(m.keys),m.findKey=function(t,e,n){e=w(e,n);for(var r,i=m.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r};var H,B,z=function(t,e,n){return e in n};m.pick=_((function(t,e){var n={},r=e[0];if(null==t)return n;m.isFunction(r)?(1<e.length&&(r=b(r,e[1])),e=m.allKeys(t)):(r=z,e=N(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),m.omit=_((function(t,e){var n,r=e[0];return m.isFunction(r)?(r=m.negate(r),1<e.length&&(n=e[1])):(e=m.map(N(e,!1,!1),String),r=function(t,n){return!m.contains(e,n)}),m.pick(t,r,n)})),m.defaults=q(m.allKeys,!0),m.create=function(t,e){var n=x(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0},H=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&B(t,e,n,r)},B=function(t,e,n,r){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!H(t[c],e[c],n,r))return!1}else{var l,f=m.keys(t);if(c=f.length,m.keys(e).length!==c)return!1;for(;c--;)if(l=f[c],!S(e,l)||!H(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(t,e){return H(t,e)},m.isEmpty=function(t){return null==t||(k(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=d||function(t){return"[object Array]"===h.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){m["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}})),m.isArguments(arguments)||(m.isArguments=function(t){return S(t,"callee")});var U=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof U&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return S(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!f.call(t,i))return!1;t=t[i]}return!!n},m.noConflict=function(){return i._=o,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return O(e,t)}:E(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?O(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=m.invert(J),V=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=V(J),m.unescape=V($),m.result=function(t,e,n){m.isArray(e)||(e=[e]);var r=e.length;if(!r)return m.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=m.isFunction(o)?o.call(t):o}return t};var W=0;m.uniqueId=function(t){var e=++W+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+K[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r,i=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,n,r,i,a){return s+=t.slice(o,a).replace(Q,Y),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(t){return r.call(this,t,m)},u=e.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a},m.chain=function(t){var e=m(t);return e._chain=!0,e};var X=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),(function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),X(this,n.apply(m,t))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],X(this,n)}})),m.each(["concat","join","slice"],(function(t){var e=s[t];m.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return m}.apply(e,[]))||(n.exports=r)}()}).call(this,n(15),n(21)(t))},function(t,e,n){var r,i;r=[n(7),n(22),n(35)],void 0===(i=function(t,e,n){"use strict";var r=t.NativeView.extend({el:"body",initialize:function(){}});return e(),r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";var t=function(){};return t.prototype={getTimingsObject:function(){var t=window.performance&&window.performance.timing;if(!t)return{};var e=t.navigationStart;return{domInteractive:t.domInteractive-e,domContentLoaded:t.domContentLoadedEventEnd-e,requestStart:t.requestStart-e,responseStart:t.responseStart-e,pageLoadTime:this.getPageLoadTimeObject()}},getPageLoadTimeObject:function(){var t=window.performance&&window.performance.timing;if(!t)return{};var e=t.navigationStart;return!t.loadEventEnd||t.loadEventEnd<=0?null:t.loadEventEnd-e}},new t}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;r=[n(2),n(17)],void 0===(i=function(t,e){"use strict";var n=e.extend({config:null,eventAggregator:null,_lowercaseFirstLetter:function(t){return t[0].toLowerCase()+t.slice(1)},initialize:function(t){n.__super__.initialize.apply(this,arguments),t.el&&(this.el=t.el),this.setElement(this.el),this.eventAggregator=t.eventAggregator,this._getPageConfig=function(){return t.pageConfig},this.config=this.getConfig()},getConfig:function(){var e,n={},r=this.el.dataset,i=this;return t.forEach(r,(function(t,r){-1!==r.indexOf("config")&&(e=i._lowercaseFirstLetter(r.split("config")[1]),n[e]=i.stringToBoolean(t))})),n},stringToBoolean:function(t){return"true"===t||"false"!==t&&t}});return n}.apply(e,r))||(t.exports=i)},,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r,i;r=[n(23),n(25),n(28)],void 0===(i=function(t,e,n){var r=!1;return function(){if(!r){for(var i=[t,e,n],o=0;o<i.length;o++){var s=i[o];s.registerListener(s.onLog.bind(s))}r=!0}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(4),n(24)],void 0===(i=function(t,e,n){return n(t,e)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(12),n(5),n(13)],void 0===(i=function(t,e,n){var r=function(e,n){t.call(this,e),this._cookie=n,this.setLevel(this.getLogLevelFromCookie())};return(r.prototype=Object.create(t.prototype)).constructor=r,r.prototype.getLogLevelFromCookie=function(){var t=this._cookie.getCookie("wcmTestLogLevel");return t=null===t?e.SILENT:parseInt(t,10)},r.prototype.setLevel=function(t){this._level=t},r.prototype.getLevel=function(){return this._level},r.prototype.shouldOutput=function(t){return this.getLevel()>=t},r.prototype.onLog=function(t){this.shouldOutput(t.level)&&this.appendMessageToConsole(t)},r.prototype.appendMessageToConsole=function(t){var e=t.level;this.getLogMethod(e).apply(null,n.formatLogArguments(t))},r.prototype.getLogMethod=function(t){switch(t){case e.ERROR:return window.console.error;case e.WARN:return window.console.warn;case e.INFO:return window.console.info;case e.DEBUG:case e.NOTIFY:return window.console.debug;default:return window.console.log}},function(t,e){return new r(t,e)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(26),n(27)],void 0===(i=function(t,e,n){return n(t,e)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{sendEvent:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(12),n(13),n(5)],void 0===(i=function(t,e,n){var r=function(e,n){t.call(this,e),this._dataLayer=n};return(r.prototype=Object.create(t.prototype)).constructor=r,r.prototype.onLog=function(t){switch(t.level){case n.ERROR:case n.INFO:this._dataLayer.sendEvent({event:e.lowerCaseLevelName(t.level),message:t.arguments[0]})}},function(t,e){return new r(t,e)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(6),n(4),n(9),n(18),n(31),n(32),n(34)],void 0===(i=function(t,e,n,r,i,o,s,a){return s(t,e,n,r,i,o,window.SLLogger)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";var t=function(t,e){var n=e&&"string"==typeof e?e+" ":"";this.selector=n+"script#mwcm-server-data",this.bundleSelector=n+"script#bundle-type-data",this.targetingInfo=t};return t.prototype={getObj:function(){var t;try{return(t=window.JSON.parse(document.querySelector(this.selector).innerHTML)).targetingInfo=this.targetingInfo.get().getData(),this.normalizeBillingTiersForOffers(t),t}catch(t){return{}}},getParentObj:function(){var t;try{return t=window.JSON.parse(window.parent.document.querySelector(this.selector).innerHTML),this.normalizeBillingTiersForOffers(t),t}catch(t){return{}}},getPropensityBundles:function(){try{return window.JSON.parse(document.querySelector(this.bundleSelector).innerHTML)}catch(t){return{}}},normalizeBillingTiersForOffers:function(t){t.offers&&t.offers instanceof Array&&t.offers.forEach((function(t){if(t.promoOptions&&!(t.promoOptions instanceof Array)){var e=t.promoOptions;if(void 0!==Object.values)e.billingTiers=Object.values(e.billingTiers);else{var n=[];for(var r in e.billingTiers)e.billingTiers.hasOwnProperty(r)&&n.push(e.billingTiers[r]);e.billingTiers=n}t.promoOptions=[e]}}))}},function(e,n){return new t(e,n)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){var t=function(t){this._json=null,this._data=null,this._segments=null;var e="#targeting-info";"string"==typeof t&&(e=t+" "+e);var n=document.querySelector(e);if(null!=n&&void 0!==n){var r=n.innerHTML;if("string"==typeof r&&""!==r.trim())try{this._json=n.innerHTML.trim(),this._data=window.JSON.parse(this._json)}catch(t){this._data=null,this._json=null}}};return t.prototype={getRawJson:function(){return this._json},getData:function(){return this._data},hasData:function(){return null!==this.getData()},hasRawJson:function(){return null!==this.getRawJson()},getPages:function(){return this.hasData()?this.getData().pages:null},getComponents:function(){return this.hasData()?this.getData().components:null},getMarketingCampaign:function(){return this.hasData()&&this.getData().marketingCampaign||null},getDynamicTextItems:function(){return this.hasData()&&this.getData().dynamicTextItems||null},getCreativePath:function(){var t=this.getPages();return t&&t.creative?t.creative.path:""},getPagePath:function(){var t=this.getPages();return t&&t.subscription?t.subscription.path:""},getSegments:function(){var t,e,n,r,i=[];return this._segments||((t=this.getPages())&&(t.creative&&t.creative.segments&&(i=i.concat(t.creative.segments)),t.subscription&&t.subscription.segments&&(i=i.concat(t.subscription.segments))),(e=this.getComponents())&&e.length&&e.forEach((function(t){i=i.concat(t.segments)})),(n=this.getMarketingCampaign())&&n.segments&&(i=i.concat(n.segments)),(r=this.getDynamicTextItems())&&r.length&&r.forEach((function(t){i=i.concat(t.segments)})),this._segments=i),this._segments}},function(e){return new t(e)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";var t=function(t){this.name=t,this.items=[]};t.prototype.enqueue=function(t){if(!t||!this.items)throw new Error("Queue or item is null");this.items.push(t)},t.prototype.dequeue=function(){return this.isEmpty()?-1:this.items.shift()},t.prototype.isEmpty=function(){if(this.items)return 0===this.items.length;throw new Error("Queue.items is null")},t.prototype.printQueue=function(){var t,e="";for(t=0;t<this.items.length;t++)e+=this.items[t]+" ";return e},t.prototype.getSize=function(){if(this.items)return this.items.length;throw new Error("Queue.items is null")};var e={};return t.get=function(n){return n=n||"global",e.hasOwnProperty(n)||(e[n]=new t(n)),e[n]},t}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;r=[n(12),n(13),n(5),n(0)],void 0===(i=function(t,e,n,r){var i=r.get("sumoLogAppender"),o=function(e,n,r,i,o,s,a){t.call(this,e),this._serverSideData=n,this._cookie=r,this._url=i,this._performanceTiming=o,this._sumoLog=a,this._queue=s.get("loggerQueue"),this._pageLoaded=!1,e.on("pageLoaded",this.onPageLoaded.bind(this))};return(o.prototype=Object.create(t.prototype)).constructor=o,o.prototype.onLog=function(t){var r={moduleName:t.name,event:e.lowerCaseLevelName(t.level),message:t.arguments[0]},i=t.arguments.slice(0),o=!1;switch(t.level){case n.ERROR:r.message="error: "+r.message;for(var s=0;s<i.length;s++){var a=i[s];if(a instanceof Error){r.errorMessage=a.message,r.errorStack=a.stack;break}}o=!0;break;case n.WARN:o=!0;break;case n.NOTIFY:if(i.length>1){var u=i[1];if(null!==u)for(var c in u)u.hasOwnProperty(c)&&(r[c]=u[c])}o=!0}o&&this.queueMessage(r)},o.prototype.onPageLoaded=function(){var t=this.getSumoConfig();if(this._sumoLog.config(t),this._pageLoaded=!0,!this._queue.isEmpty())for(var e=this._queue.getSize(),n=0;n<e;n++){var r=this._queue.dequeue();r.performanceTiming=this._performanceTiming.getTimingsObject(),this._sumoLog.log(r)}var i=this;window.addEventListener("beforeunload",(function(){i._sumoLog.flushLogs()}))},o.prototype.getSumoConfig=function(){var t=this._serverSideData.get().getObj();return{endpoint:t.sumoLogicUrl,interval:5e3,sourceName:"Frontend Monitoring",sourceCategory:"mwcm-prd",hostName:t.sumoLogicHostName,onSuccess:function(){i.debug("Sumo Logic success callback executed")},onError:function(){i.error("Sumo Logic error callback executed")}}},o.prototype.queueMessage=function(t){var e=document.querySelector("body").getAttribute("data-config-template-id"),n=e?e.split("/")[2]:"undefined",r=this._url.getPath(),i=this._serverSideData.get().getObj().templateBuildId;t.clientInfo={nytACookie:null===this._cookie.getCookie("nyt-a")?void 0:this._cookie.getCookie("nyt-a"),userStatus:null===this._cookie.getCookie("nyt-s")?"not logged in":"logged in"},t.templateBuildId=i,t.templateId=e,t.templateName=n,t.path=r,t.parameters=this._url.getQueryString(),t.deviceSize=this.deviceSize(),t.mobileDeviceType=this.mobileDeviceType(),t.browserDetails=this.getBrowserDetails(),t.propensity=this._serverSideData.get().getPropensityBundles(),this._pageLoaded?(t.performanceTiming=this._performanceTiming.getTimingsObject(),this._sumoLog.log(t)):this._queue.enqueue(t)},o.prototype.deviceSize=function(){var t=window.innerWidth,e=window.innerHeight;return t<=500&&e<=800?"mobile":t<=1200&&e<=1e3?"tablet":"desktop"},o.prototype.getBrowserDetails=function(){var t,e,n,r=navigator.userAgent,i=navigator.appName,o=""+parseFloat(navigator.appVersion);-1!==(e=r.indexOf("Opera"))?(i="Opera",o=r.substring(e+6),-1!==(e=r.indexOf("Version"))&&(o=r.substring(e+8))):-1!==(e=r.indexOf("MSIE"))?(i="Microsoft Internet Explorer",o=r.substring(e+5)):-1!==(e=r.indexOf("Chrome"))?(i="Chrome",o=r.substring(e+7)):-1!==(e=r.indexOf("Safari"))?(i="Safari",o=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(o=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))?(i="Firefox",o=r.substring(e+8)):-1!==(e=r.indexOf("FBAN"))?(i="Facebook",o=r.substring(e+8)):(t=r.lastIndexOf(" ")+1)<(e=r.lastIndexOf("/"))&&(i=r.substring(t,e),o=r.substring(e+1),i.toLowerCase()===i.toUpperCase()?i=navigator.appName:i&&0!==i.length||(i="na")),-1!==(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!==(n=o.indexOf(" "))&&(o=o.substring(0,n));var s=parseInt(""+o,10);return isNaN(s)&&(o=""+parseFloat(navigator.appVersion)),i+"("+(o=o.replace(/\./g,"-"))+")"},o.prototype.mobileDeviceType=function(){var t=navigator.userAgent;return t.match(/Android/i)?"android":t.match(/webOS/i)?"webos":t.match(/iPhone/i)?"iphone":t.match(/iPod/i)?"ipod":t.match(/iPad/i)?"ipad":t.match(/Windows Phone/i)?"windows phone":t.match(/SymbianOS/i)?"symbian":t.match(/RIM/i)||t.match(/BB/i)?"blackberry":"na"},function(t,e,n,r,i,s,a){return new o(t,e,n,r,i,s,a)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5)],void 0===(i=function(t){var e=function(t,e){this._name=t,this._eventAggregator=e};return e.prototype={error:function(){this.emitLog(t.ERROR,arguments)},warn:function(){this.emitLog(t.WARN,arguments)},info:function(){this.emitLog(t.INFO,arguments)},debug:function(){this.emitLog(t.DEBUG,arguments)},notify:function(){this.emitLog(t.NOTIFY,arguments)},emitLog:function(t,e){var n={name:this._name,level:t,arguments:[].slice.call(e)};Object.freeze(n),Object.freeze(n.arguments),this._eventAggregator.trigger("log",n)}},function(t,n){return new e(t,n)}}.apply(e,r))||(t.exports=i)},function(t,e){!function(t,e){"use strict";function n(){this.sendErrors=!1,this.endpoint="",this.interval=0,this.session="",this.timestamp="",this.hostName="",this.sourceCategory="",this.name="",this.onSuccess=!1,this.onError=!1}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function i(e){t&&t.console&&"function"==typeof t.console.log&&console.log(e)}function o(e,n){if(e.sendErrors=n,!0===e.sendErrors){var r=t.onerror;t.onerror=function(n,i,o,s){n="message: "+n+", url: "+i+", line_num: "+o+", col_num: "+s,e.log({error:"BrowserJsException",exception:n}),r&&"function"==typeof r&&r.apply(t,arguments)}}}var s="sumologic.logger.session",a=s.length+1,u=[];n.prototype={reset:function(){u=[],this.endpoint="",this.interval=0,this.session="",this.timestamp="",this.hostName="",this.sourceCategory="",this.name=""},getCurrentLogs:function(){return u},setSession:function(t){t?(this.session=t,this.setCookie(this.session)):this.session||(this.session=this.getCookie(),this.session||(this.session=r(),this.setCookie(this.session)))},config:function(t){if(t&&"object"==typeof t)if(t.endpoint&&""!==t.endpoint){if(this.endpoint=t.endpoint,t.interval&&(this.interval=t.interval),this.setSession(t.sessionKey?t.sessionKey:r()),t.sendErrors&&o(this,t.sendErrors),t.sourceName&&(this.name=t.sourceName),t.sourceCategory&&(this.sourceCategory=t.sourceCategory),t.hostName&&(this.hostName=t.hostName),t.onSuccess&&(this.onSuccess=t.onSuccess),t.onError&&(this.onError=t.onError),this.interval>0){var e=this;setInterval((function(){e.sendLogs()}),this.interval)}}else i("Sumo Logic Logger requires you to set an endpoint.");else i("Sumo Logic Logger requires you to set an endpoint.")},log:function(e,n){if(""!==this.endpoint)if(e){n=n||!1;var r=e instanceof Array,o=r?e[0]:e,s=typeof o;if("undefined"===s||"string"===s&&""===o)i("Sumo Logic Logger requires that you pass a value to log.");else if("object"!==s||0!==Object.keys(e).length){r||(e=[e]);var a=new Date;n&&(n.sessionKey&&this.setSession(n.sessionKey),n.timestamp&&(a=n.timestamp)),this.timestamp=a.toUTCString();var c=this,l=e.map((function(e){if("string"==typeof e)return JSON.stringify({msg:e,sessionId:c.session,url:encodeURI(t.location),timestamp:c.timestamp});var n={sessionId:c.session,url:encodeURI(t.location),timestamp:c.timestamp};return Object.keys(e).forEach((function(t){n[t]=e[t]})),JSON.stringify(n)}));u=u.concat(l),0===this.interval&&this.sendLogs()}else i("Sumo Logic Logger requires that you pass a non-empty JSON object to log.")}else i("Sumo Logic Logger requires that you pass a value to log.");else i("Sumo Logic Logger requires you to set an endpoint before pushing logs.")},logSent:function(){},sendLogs:function(){var t;if(0!==u.length)try{var e=new XMLHttpRequest;t=u,u=[];var n=this.onError;if(e.addEventListener("error",(function(){u=t,n&&n()})),this.onSuccess){var r=this.onSuccess;e.addEventListener("load",(function(){r()}))}e.open("POST",this.endpoint+"?callback=logSent",!0),e.setRequestHeader("Content-Type","application/json"),""!==this.name&&e.setRequestHeader("X-Sumo-Name",this.name),""!==this.sourceCategory&&e.setRequestHeader("X-Sumo-Category",this.sourceCategory),""!==this.hostName&&e.setRequestHeader("X-Sumo-Host",this.hostName),e.send(t.join("\n"))}catch(e){u=t,this.onError&&this.onError()}},flushLogs:function(){this.sendLogs()},emptyLogQueue:function(){u=[]},getCookie:function(){var t=e.cookie,n=t.indexOf(s);if(0>n)return!1;var r=t.indexOf(";",n+1);return r=0>r?t.length:r,t.slice(n+a,r)},setCookie:function(t){e.cookie=s+"="+t}};var c=t.SLLogger,l=new n;if(c&&c.length){var h=0,f=c.length;for(h=0;f>h;h++)l.log(c[h])}t.SLLogger=l,t.SumoLogger=n}(window,document)},function(t,e,n){var r,i,o;i=[n(7)],void 0===(o="function"==typeof(r=function(t){var e=/^\s*</,n="undefined"!=typeof Element&&Element.prototype||{},r=n.addEventListener?function(t,e){return this.addEventListener(t,e,!1)}:function(t,e){return this.attachEvent("on"+t,e)},i=n.removeEventListener?function(t,e){return this.removeEventListener(t,e,!1)}:function(t,e){return this.detachEvent("on"+t,e)},o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||function(t){return~function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}((this.parentNode||document).querySelectorAll(t)||[],this)},s=t.View;return t.NativeViewMixin={_domEvents:null,constructor:function(){return this._domEvents=[],s.apply(this,arguments)},$:function(t){return this.el.querySelectorAll(t)},_removeElement:function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_setElement:function(t){if("string"==typeof t)if(e.test(t)){var n=document.createElement("div");n.innerHTML=t,this.el=n.firstChild}else this.el=document.querySelector(t);else t&&t.length?this.el=t[0]:this.el=t},_setAttributes:function(t){for(var e in t)e in this.el?this.el[e]=t[e]:this.el.setAttribute(e,t[e])},delegate:function(t,e,n){var i=this.el;if(i){if("function"==typeof e&&(n=e,e=null),-1!==["focus","blur"].indexOf(t)){for(var s=this.el.querySelectorAll(e),a=0,u=s.length;a<u;a++){var c=s[a];r.call(c,t,n,!1),this._domEvents.push({el:c,eventName:t,handler:n})}return n}var l=e?function(t){for(var r=t.target||t.srcElement;r&&r!=i;r=r.parentNode)o.call(r,e)&&(t.delegateTarget=r,n(t))}:n;return r.call(this.el,t,l,!1),this._domEvents.push({el:this.el,eventName:t,handler:l,listener:n,selector:e}),l}},undelegate:function(t,e,n){if("function"==typeof e&&(n=e,e=null),this.el)for(var r=this._domEvents.slice(),o=r.length;o--;){var s=r[o];!(s.eventName!==t||n&&s.listener!==n||e&&s.selector!==e)&&(i.call(s.el,s.eventName,s.handler,!1),this._domEvents.splice(o,1))}return this},undelegateEvents:function(){if(this.el){for(var t=0,e=this._domEvents.length;t<e;t++){var n=this._domEvents[t];i.call(n.el,n.eventName,n.handler,!1)}this._domEvents.length=0}return this}},t.NativeView=t.View.extend(t.NativeViewMixin),t.NativeView})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i;r=[n(2),n(9),n(37),n(4),n(0),n(10),n(38),n(40)],void 0===(i=function(t,e,n,r,i,o,s,a){"use strict";return{defaults:{event:"marketingDataReady",application:{},marketing:{},user:{},session:{},referrer:{},presentation:{},viewport:{}},data:null,getData:function(e){this.logger=i.get("GTM DataLayer");var r=this;this.data=t.extend({},this.defaults),this.setDefaultAttributes(),n.loadData((function(){r.data.user=n.getData(),r.logger.debug("loaded"),e()})),o.initialize(),s.initialize(),a.initialize()},setDefaultAttributes:function(){this.data.application.name="mwcm",this.data.marketing.campaign={},this.data.marketing.campaign.code=e.getCampaignId(),this.data.referrer.url=document.referrer,this.data.viewport.scrollTop=window.scrollY,this.data.viewport.height=window.innerHeight,this.data.viewport.width=window.innerWidth,this.data.presentation.pageType="landing_page",this.data.presentation.documentHeight=document.documentElement.scrollHeight},set:function(t,e){this.data[t]=e},get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},getMeterCount:function(){var t=r.getCookie("nyt-m"),e=/&v=i\.[0-9]+/.exec(t);return e=e&&e.length?parseInt(e[0].substring(5,e[0].length),10):0},toJSON:function(){return JSON.stringify(this.data)}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2),n(4),n(0),n(6)],void 0===(i=function(t,e,n,r){"use strict";var i;return{defaults:{user:{type:null,regiId:null,watSegs:null,nytdOtherData:null,subscriptions:null,propensity:null,tracking:null,subscriberInfo:null,actioniq:null,adv_scores:null},version:null,asset:null,ip:{corp:null,edu:null},session:null},data:null,apiLoadedData:!1,getIsLoggedIn:function(){return this.data&&this.data.session?this.data.session.isLoggedIn:null},getUserType:function(){return this.data&&this.data.user?this.data.user.type:null},getRegiId:function(){return this.data&&this.data.user?this.data.user.regiId:null},setData:function(e){this.data=t.extend({},this.defaults),t.extend(this.data,e)},loadData:function(t){this.apiLoadedData?t():this.loadDataFromAPI((function(){t()}))},getData:function(){return this.data},loadDataFromAPI:function(t){i=n.get("jsonKiddDataLayer");var e=this;if(this.allowApiCall()){var r=e.getXMLHttpRequest();r.open("GET",e.getAPIEndpoint()),r.responseType="json",r.withCredentials=!0,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var n="object"==typeof r.response?r.response:JSON.parse(r.response);e.setData(n),e.apiLoadedData=!0,t()}else t(),i.warn("Failed to retrieve dataLayer from JsonKidd API"),i.debug(r)},r.send()}else i.warn("Not on NYT domain. Skipped calling JsonKidd API"),t()},getXMLHttpRequest:function(){return new XMLHttpRequest},getAPIEndpoint:function(){return r.get().getObj().dataLayerUrl},allowApiCall:function(){return this.isHostnameWhitelisted()&&r.get().getObj().isPreview&&!r.get().getObj().isAuthor},isHostnameWhitelisted:function(){return window.location.hostname.match(/nytimes\.com/)}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(10),n(8),n(39),n(6),n(0)],void 0===(i=function(t,e,n,r,i){"use strict";var o=function(){this.logger={}};return o.prototype={initialize:function(){this.logger=i.get("ET Impression"),this.serverSideData=r.get(),this.targetingInfo=e.get(),this.getMwcmData(),this.mwcmData&&this.mwcmData.offers&&this.trackProducts(),this.trackSecondary(),this.trackFAQ(),this.trackPropensityBundles(),this.trackCreativeName(),this.trackPageName()},sendEvent:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(t),this.logger.debug("Event sent: "+JSON.stringify(t))},getMwcmData:function(){this.mwcmData=this.serverSideData.getObj()},getProducts:function(){var t,e=[];for(t=0;t<this.mwcmData.offers.length;t++)e=e.concat(this.mwcmData.offers[t].promoOptions);return e},setImpressionListener:function(t,e){var n=!1,r=!1,i=this,o=function(o){r||(o&&o[0].isIntersecting?(i.sendEvent({event:"impression",module:t}),r=!0,n&&s.disconnect()):n||(s.observe(e),n=!0))},s=new window.IntersectionObserver(o,{threshold:[0,.25,.5,1]});o()},trackProducts:function(){var e,n,r,i=this.getProducts();for(e=0;e<i.length;e++){if(0===(r="HD"===i[e].productType?document.querySelectorAll(".productGBBHD"):document.querySelectorAll('[data-promo-code="'+i[e].promoCode+'"]')).length)return void this.logger.debug("could not find the container for product "+i[e].promoCode);for(n=0;n<r.length;n++)this.setImpressionListener({name:"product",label:i[e].productName,region:e.toString(),context:i[e].promoCode},r[n]),t.setDetailsClickListener(i[e].productName,r[n].querySelector(".productGBBDigi__features__button, .productGBBHD__features__button"))}},trackSecondary:function(){var t=document.querySelector(".secondaryOfferDigi");t?this.setImpressionListener({name:"secondaryOfferings",region:"Secondary"},t):this.logger.debug("could not find the container for secondary offers")},trackFAQ:function(){var t=document.querySelector(".faq");t?this.setImpressionListener({name:"faq",region:"faq"},t):this.logger.debug("could not find the container for FAQ")},trackPropensityBundles:function(){var t=document.getElementsByTagName("body")[0].dataset.configPropensityFlag;if(!t&&document.querySelector(".page")&&(t=document.querySelector(".page").dataset.configPropensityFlag),"true"===t){var e=this.serverSideData.getPropensityBundles();this.sendEvent({event:"impression",module:{name:"productPropensity",label:e}})}},trackCreativeName:function(){var t=this.targetingInfo.getCreativePath();t&&this.sendEvent({event:"impression",module:{name:"creativePath",label:t}})},trackPageName:function(){var t=this.targetingInfo.getPagePath();t&&this.sendEvent({event:"impression",module:{name:"pagePath",label:t}})}},new o}.apply(e,r))||(t.exports=i)},function(t,e){!function(t,e){"use strict";if(!("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)){var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,s=a(o),u=this._rootContainsTarget(o),c=i.entry,l=e&&u&&this._computeTargetAndRootIntersection(o,n),h=i.entry=new r({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n,intersectionRect:l});c?e&&u?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=t.getComputedStyle(e).display){for(var r,i,o,s,u,c,l,h,f=a(e),d=e.parentNode,p=!1;!p;){var g=null;if(d==this.root||1!=d.nodeType?(p=!0,g=n):"visible"!=t.getComputedStyle(d).overflow&&(g=a(d)),g&&(r=g,i=f,o=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,o=Math.max(r.top,i.top),s=Math.min(r.bottom,i.bottom),u=Math.max(r.left,i.left),c=Math.min(r.right,i.right),h=s-o,!(f=(l=c-u)>=0&&h>=0&&{top:o,bottom:s,left:u,right:c,width:l,height:h})))break;d=d.parentNode}return f}},i.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||u(e,this.root)},i.prototype._rootContainsTarget=function(t){return u(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=r}function r(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(t,e){var n,r,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t,e){for(var n=e;n;){if(11==n.nodeType&&n.host&&(n=n.host),n==t)return!0;n=n.parentNode}return!1}}(window,document)},function(t,e,n){var r,i;r=[n(0),n(4),n(18),n(3)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){};return i.prototype={initialize:function(){this.logger=t.get("Timings Logger"),this.performance(),this.heartbeat()},sendEvent:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)},performance:function(){if(window.performance&&window.performance.timing){var t=this;window.addEventListener("load",(function(){var e={event:"performance",pageview:{performance:n.getTimingsObject()}};t.sendEvent(e,{individualEvents:!0}),setTimeout((function(){var i={event:"performance",pageview:{performance:{pageLoadTime:n.getPageLoadTimeObject()}}};t.sendEvent(i,{individualEvents:!0}),e.pageview.performance.pageLoadTime=i.pageview.performance.pageLoadTime,r.trigger("pageLoaded")}),0)}))}},trackHeartBeat:function(t,e){this.sendEvent({event:"heartbeat",pageview:{heartbeat:{timeSincePageDataReady:(new Date).getTime()-t,heartbeatInterval:e}}})},isDocumentVisible:function(){return!(document.hidden||document.webkitHidden||document.msHidden||!document.hasFocus())},heartbeat:function(){var t=(new Date).getTime(),e=this;setInterval((function(){e.isDocumentVisible()&&e.trackHeartBeat(t,5e3)}),5e3)}},new i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(42),n(8)],void 0===(i=function(t,e){return{get:function(){return t(e)}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(43),n(0),n(14)],void 0===(i=function(t,e,n){"use strict";var r,i,o=function(t){(r=r||n.get()).featureEnabled(r.getFeature("abraExpose"))?this.tests={}:this.tests=[],this.values={},this.segments=[],this.logger=e.get("AbraSegment"),i=t};return o.prototype={initialize:function(){this.segments=i.get().getSegments(),this.tests=this.parseAbraTests(),this.logger.info("Found the following ABRA segments for this page: ",this.tests),this.processAbraTests()},parseAbraTests:function(){return(r=r||n.get()).featureEnabled(r.getFeature("abraExpose"))?this.segments.reduce((function(t,e){var n=e.path.match(/ABRA\/(.+)\/(.+)/);return n&&t&&!t.hasOwnProperty(n[1])&&(t[n[1]]=n[2]),t}),{}):this.segments.reduce((function(t,e){var n=e.path.match(/ABRA\/(.+)\//);return n&&t&&-1===t.indexOf(n[1])&&t.push(n[1]),t}),[])},processAbraTests:function(){var e,i;if((r=r||n.get()).featureEnabled(r.getFeature("abraExpose"))){if(0===Object.keys(this.tests).length)return void this.logger.info("No ABRA segments targeting applied for this page");for(i in this.tests)this.tests.hasOwnProperty(i)&&t.get(i,this.tests[i]).initialize()}else{if(0===this.tests.length)return void this.logger.info("No ABRA segments targeting applied for this page");for(e=0;e<this.tests.length;e++)t.get(this.tests[e]).initialize()}}},function(t){return new o(t)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(44)],void 0===(i=function(t){"use strict";var e={};return{get:function(n,r){return e.hasOwnProperty(n)||(e[n]=t(n,r)),e[n]}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(10),n(0),n(14)],void 0===(i=function(t,e,n){"use strict";var r,i=function(t,n){this.name=t,this.value=n||null,this.callback=this.setExposed.bind(this),this.logger=e.get("AbraTest")};return i.prototype={initialize:function(){if((r=n.get()).featureEnabled(r.getFeature("abraExpose"))){if(this.isExposed())return void this.logger.debug("Test "+this.name+" has already been initialized -- skipping");null!==this.value?(this.reportExposure(),this.exposed=!0,this.setExposed()):this.logger.debug("No value for "+this.name+" found")}else try{this.value=window.NYTD.Abra(this.name),null!==this.value?(this.logger.info("Send exposure event for "+this.name+" with variation "+this.value),window.NYTD.Abra.reportExposure(this.name,this.callback)):this.logger.info("No value for "+this.name+" found")}catch(t){this.logger.error("Can't read ABRA value for "+this.name+": "+t.message)}},setExposed:function(){var t=this.getExposed();t.push(this.name),document.body.dataset.abraExposed=t.join(", ")},reportExposure:function(){this.logger.info("Send exposure event for "+this.name+" with variation "+this.value);var e={event:"ab-expose",abtest:{test:this.name,variant:this.value}};t.sendEvent(e)},isExposed:function(){if(void 0!==this.exposed)return this.exposed;var t=this.getExposed();return this.exposed=-1!==t.indexOf(this.name),this.exposed},getExposed:function(){return document.body.dataset.abraExposed?document.body.dataset.abraExposed.split(","):[]}},function(t,e){return new i(t,e)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){var t=function(t){var e=t.get().getObj();this._features=e.hasOwnProperty("features")?e.features:{instance:{},codebase:{}}};return t.prototype={getInstanceFeatures:function(){return this._features.instance},getCodebaseFeatures:function(){return this._features.codebase},getFeature:function(t){var e=this.getCodebaseFeatures();return e.hasOwnProperty(t)?e[t]:""},featureEnabled:function(t){var e=this.getInstanceFeatures();return!!e.hasOwnProperty(t)&&e[t]}},function(e){return new t(e)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(0)],void 0===(i=function(t){"use strict";var e,n=function(t,e){this.message=t,this.previous=e};(n.prototype=Object.create(Error.prototype)).constructor=n,n.prototype.toString=function(){var t=this.message;return this.previous&&(t+=" Cause: "+this.previous),t};var r=function(){this.logger=t.get("String Eval")};return r.prototype={executeJSString:function(t,e){e=e||[];var n=this.parseJSString(t);return null!==n?n.apply(null,e):null},parseJSString:function(t){var e,r="";if(null==(t=t.trim())||""===t)throw r="Empty raw JS string.",this.logger.warn(r),new n(r);if("string"!=typeof t)throw r="Expecting a string but non-string given.",this.logger.warn(r),new n(r);try{e=new window.Function("return ("+t+");")()}catch(t){throw r="JS is invalid, cannot eval.",this.logger.error(r,t),new n(r,t)}if("function"!=typeof e)throw r="JS is invalid and not a function after parsing. Please wrap in a function in order to have dependencies passed properly.",this.logger.warn(r),new n(r);return e}},r.getInstance=function(){return void 0===e&&(e=new r),e},r}.apply(e,r))||(t.exports=i)}]]);